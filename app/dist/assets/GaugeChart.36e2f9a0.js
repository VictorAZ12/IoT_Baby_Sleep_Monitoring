import{a as U,R as O,Z as fe,$ as me,X as F,bc as K,p as H,a1 as pe,L as ye,t as te,K as ae,o as we,k as Se,y as Ce,j as Y,bB as re,l as xe}from"./index.aa01a344.js";import{C as W,_ as I,P as Pe,n as Ae,p as M,L as ie,r as be,Z as j,c as q,i as ne,l as B,s as le,u as oe,a as _e,e as Me,b as se,t as ve,d as ge,G as ue,f as ke,g as De,h as Ee,j as Te,k as Ve,S as ce,m as de,o as Ge,q as Ne,v as Le,w as he}from"./useECharts.f76f8849.js";import"./index.6dd758ab.js";import"./index.6f8c0514.js";import"./index.f0f88faa.js";import"./warning.6e13b25a.js";import"./responsiveObserve.29177b11.js";var J=U({name:"ACardMeta",props:{prefixCls:O.string,title:O.VNodeChild,description:O.VNodeChild,avatar:O.VNodeChild},setup:function(){return{configProvider:fe("configProvider",me)}},render:function(){var a=this.$props.prefixCls,e=this.configProvider.getPrefixCls,r=e("card",a),v=F({},"".concat(r,"-meta"),!0),o=K(this,"avatar"),t=K(this,"title"),s=K(this,"description"),n=o?H("div",{class:"".concat(r,"-meta-avatar")},[o]):null,y=t?H("div",{class:"".concat(r,"-meta-title")},[t]):null,c=s?H("div",{class:"".concat(r,"-meta-description")},[s]):null,P=y||c?H("div",{class:"".concat(r,"-meta-detail")},[y,c]):null;return H("div",{class:v},[n,P])}}),Q=U({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:O.string,hoverable:O.looseBool},setup:function(){return{configProvider:fe("configProvider",me)}},render:function(){var a,e=this.$props,r=e.prefixCls,v=e.hoverable,o=v===void 0?!0:v,t=this.configProvider.getPrefixCls,s=t("card",r),n=(a={},F(a,"".concat(s,"-grid"),!0),F(a,"".concat(s,"-grid-hoverable"),o),a);return H("div",{class:n},[pe(this)])}});W.Meta=J;W.Grid=Q;W.install=function(i){return i.component(W.name,W),i.component(J.name,J),i.component(Q.name,Q),i};var ze=function(){function i(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return i}(),$e=function(i){I(a,i);function a(e){var r=i.call(this,e)||this;return r.type="pointer",r}return a.prototype.getDefaultShape=function(){return new ze},a.prototype.buildPath=function(e,r){var v=Math.cos,o=Math.sin,t=r.r,s=r.width,n=r.angle,y=r.x-v(n)*s*(s>=t/3?1:2),c=r.y-o(n)*s*(s>=t/3?1:2);n=r.angle-Math.PI/2,e.moveTo(y,c),e.lineTo(r.x+v(n)*s,r.y+o(n)*s),e.lineTo(r.x+v(r.angle)*t,r.y+o(r.angle)*t),e.lineTo(r.x-v(n)*s,r.y-o(n)*s),e.lineTo(y,c)},a}(Pe),Re=$e;function Be(i,a){var e=i.get("center"),r=a.getWidth(),v=a.getHeight(),o=Math.min(r,v),t=M(e[0],a.getWidth()),s=M(e[1],a.getHeight()),n=M(i.get("radius"),o/2);return{cx:t,cy:s,r:n}}function Z(i,a){var e=i==null?"":i+"";return a&&(Te(a)?e=a.replace("{value}",e):Ve(a)&&(e=a(i))),e}var He=function(i){I(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.render=function(e,r,v){this.group.removeAll();var o=e.get(["axisLine","lineStyle","color"]),t=Be(e,v);this._renderMain(e,r,v,o,t),this._data=e.getData()},a.prototype.dispose=function(){},a.prototype._renderMain=function(e,r,v,o,t){var s=this.group,n=e.get("clockwise"),y=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,P=e.getModel("axisLine"),G=P.get("roundCap"),V=G?ce:de,w=P.get("show"),N=P.getModel("lineStyle"),T=N.get("width"),m=[y,c];Ae(m,!n),y=m[0],c=m[1];for(var g=c-y,_=y,A=0;w&&A<o.length;A++){var L=Math.min(Math.max(o[A][0],0),1);c=y+g*L;var b=new V({shape:{startAngle:_,endAngle:c,cx:t.cx,cy:t.cy,clockwise:n,r0:t.r-T,r:t.r},silent:!0});b.setStyle({fill:o[A][1]}),b.setStyle(N.getLineStyle(["color","width"])),s.add(b),_=c}var k=function(D){if(D<=0)return o[0][1];var E;for(E=0;E<o.length;E++)if(o[E][0]>=D&&(E===0?0:o[E-1][0])<D)return o[E][1];return o[E-1][1]};this._renderTicks(e,r,v,k,t,y,c,n,T),this._renderTitleAndDetail(e,r,v,k,t),this._renderAnchor(e,t),this._renderPointer(e,r,v,k,t,y,c,n,T)},a.prototype._renderTicks=function(e,r,v,o,t,s,n,y,c){for(var P=this.group,G=t.cx,V=t.cy,w=t.r,N=+e.get("min"),T=+e.get("max"),m=e.getModel("splitLine"),g=e.getModel("axisTick"),_=e.getModel("axisLabel"),A=e.get("splitNumber"),L=g.get("splitNumber"),b=M(m.get("length"),w),k=M(g.get("length"),w),D=s,E=(n-s)/A,l=E/L,p=m.getModel("lineStyle").getLineStyle(),C=g.getModel("lineStyle").getLineStyle(),S=m.get("distance"),d,h,u=0;u<=A;u++){if(d=Math.cos(D),h=Math.sin(D),m.get("show")){var f=S?S+c:c,x=new ie({shape:{x1:d*(w-f)+G,y1:h*(w-f)+V,x2:d*(w-b-f)+G,y2:h*(w-b-f)+V},style:p,silent:!0});p.stroke==="auto"&&x.setStyle({stroke:o(u/A)}),P.add(x)}if(_.get("show")){var f=_.get("distance")+S,z=Z(be(u/A*(T-N)+N),_.get("formatter")),$=o(u/A);P.add(new j({style:q(_,{text:z,x:d*(w-b-f)+G,y:h*(w-b-f)+V,verticalAlign:h<-.8?"top":h>.8?"bottom":"middle",align:d<-.4?"left":d>.4?"right":"center"},{inheritColor:$}),silent:!0}))}if(g.get("show")&&u!==A){var f=g.get("distance");f=f?f+c:c;for(var R=0;R<=L;R++){d=Math.cos(D),h=Math.sin(D);var X=new ie({shape:{x1:d*(w-f)+G,y1:h*(w-f)+V,x2:d*(w-k-f)+G,y2:h*(w-k-f)+V},silent:!0,style:C});C.stroke==="auto"&&X.setStyle({stroke:o((u+R/L)/A)}),P.add(X),D+=l}D-=l}else D+=E}},a.prototype._renderPointer=function(e,r,v,o,t,s,n,y,c){var P=this.group,G=this._data,V=this._progressEls,w=[],N=e.get(["pointer","show"]),T=e.getModel("progress"),m=T.get("show"),g=e.getData(),_=g.mapDimension("value"),A=+e.get("min"),L=+e.get("max"),b=[A,L],k=[s,n];function D(l,p){var C=g.getItemModel(l),S=C.getModel("pointer"),d=M(S.get("width"),t.r),h=M(S.get("length"),t.r),u=e.get(["pointer","icon"]),f=S.get("offsetCenter"),x=M(f[0],t.r),z=M(f[1],t.r),$=S.get("keepAspect"),R;return u?R=ge(u,x-d/2,z-h,d,h,null,$):R=new Re({shape:{angle:-Math.PI/2,width:d,r:h,x,y:z}}),R.rotation=-(p+Math.PI/2),R.x=t.cx,R.y=t.cy,R}function E(l,p){var C=T.get("roundCap"),S=C?ce:de,d=T.get("overlap"),h=d?T.get("width"):c/g.count(),u=d?t.r-h:t.r-(l+1)*h,f=d?t.r:t.r-l*h,x=new S({shape:{startAngle:s,endAngle:p,cx:t.cx,cy:t.cy,clockwise:y,r0:u,r:f}});return d&&(x.z2=L-g.get(_,l)%L),x}(m||N)&&(g.diff(G).add(function(l){var p=g.get(_,l);if(N){var C=D(l,s);ne(C,{rotation:-((isNaN(+p)?k[0]:B(p,b,k,!0))+Math.PI/2)},e),P.add(C),g.setItemGraphicEl(l,C)}if(m){var S=E(l,s),d=T.get("clip");ne(S,{shape:{endAngle:B(p,b,k,d)}},e),P.add(S),le(e.seriesIndex,g.dataType,l,S),w[l]=S}}).update(function(l,p){var C=g.get(_,l);if(N){var S=G.getItemGraphicEl(p),d=S?S.rotation:s,h=D(l,d);h.rotation=d,oe(h,{rotation:-((isNaN(+C)?k[0]:B(C,b,k,!0))+Math.PI/2)},e),P.add(h),g.setItemGraphicEl(l,h)}if(m){var u=V[p],f=u?u.shape.endAngle:s,x=E(l,f),z=T.get("clip");oe(x,{shape:{endAngle:B(C,b,k,z)}},e),P.add(x),le(e.seriesIndex,g.dataType,l,x),w[l]=x}}).execute(),g.each(function(l){var p=g.getItemModel(l),C=p.getModel("emphasis"),S=C.get("focus"),d=C.get("blurScope"),h=C.get("disabled");if(N){var u=g.getItemGraphicEl(l),f=g.getItemVisual(l,"style"),x=f.fill;if(u instanceof _e){var z=u.style;u.useStyle(Me({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},f))}else u.useStyle(f),u.type!=="pointer"&&u.setColor(x);u.setStyle(p.getModel(["pointer","itemStyle"]).getItemStyle()),u.style.fill==="auto"&&u.setStyle("fill",o(B(g.get(_,l),b,[0,1],!0))),u.z2EmphasisLift=0,se(u,p),ve(u,S,d,h)}if(m){var $=w[l];$.useStyle(g.getItemVisual(l,"style")),$.setStyle(p.getModel(["progress","itemStyle"]).getItemStyle()),$.z2EmphasisLift=0,se($,p),ve($,S,d,h)}}),this._progressEls=w)},a.prototype._renderAnchor=function(e,r){var v=e.getModel("anchor"),o=v.get("show");if(o){var t=v.get("size"),s=v.get("icon"),n=v.get("offsetCenter"),y=v.get("keepAspect"),c=ge(s,r.cx-t/2+M(n[0],r.r),r.cy-t/2+M(n[1],r.r),t,t,null,y);c.z2=v.get("showAbove")?1:0,c.setStyle(v.getModel("itemStyle").getItemStyle()),this.group.add(c)}},a.prototype._renderTitleAndDetail=function(e,r,v,o,t){var s=this,n=e.getData(),y=n.mapDimension("value"),c=+e.get("min"),P=+e.get("max"),G=new ue,V=[],w=[],N=e.isAnimationEnabled(),T=e.get(["pointer","showAbove"]);n.diff(this._data).add(function(m){V[m]=new j({silent:!0}),w[m]=new j({silent:!0})}).update(function(m,g){V[m]=s._titleEls[g],w[m]=s._detailEls[g]}).execute(),n.each(function(m){var g=n.getItemModel(m),_=n.get(y,m),A=new ue,L=o(B(_,[c,P],[0,1],!0)),b=g.getModel("title");if(b.get("show")){var k=b.get("offsetCenter"),D=t.cx+M(k[0],t.r),E=t.cy+M(k[1],t.r),l=V[m];l.attr({z2:T?0:2,style:q(b,{x:D,y:E,text:n.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:L})}),A.add(l)}var p=g.getModel("detail");if(p.get("show")){var C=p.get("offsetCenter"),S=t.cx+M(C[0],t.r),d=t.cy+M(C[1],t.r),h=M(p.get("width"),t.r),u=M(p.get("height"),t.r),f=e.get(["progress","show"])?n.getItemVisual(m,"style").fill:L,l=w[m],x=p.get("formatter");l.attr({z2:T?0:2,style:q(p,{x:S,y:d,text:Z(_,x),width:isNaN(h)?null:h,height:isNaN(u)?null:u,align:"center",verticalAlign:"middle"},{inheritColor:f})}),ke(l,{normal:p},_,function($){return Z($,x)}),N&&De(l,m,n,e,{getFormattedLabel:function($,R,X,je,qe,ee){return Z(ee?ee.interpolatedValue:_,x)}}),A.add(l)}G.add(A)}),this.group.add(G),this._titleEls=V,this._detailEls=w},a.type="gauge",a}(Ee),Oe=He,We=function(i){I(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.visualStyleAccessPath="itemStyle",e}return a.prototype.getInitialData=function(e,r){return Ge(this,["value"])},a.type="series.gauge",a.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},a}(Ne),Ze=We;function Xe(i){i.registerChartView(Oe),i.registerSeriesModel(Ze)}const Ke={class:"card"},Ye=U({__name:"GaugeChart",props:{loading:Boolean,width:{type:String,default:"100%"},height:{type:String,default:"300px"},list:{type:Array,default:()=>[]}},setup(i){const a=i;Le([Xe]);const e={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Temperature",type:"gauge",animation:!1,max:50,progress:{show:!0},detail:{valueAnimation:!1,formatter:"{value}"},data:[{value:50,name:"Temperature",title:{fontSize:13,offsetCenter:[0,"80%"]}}]}]},r={tooltip:{formatter:"{a} <br/>{b} : {c}%"},animation:!1,series:[{name:"Humidity",type:"gauge",max:80,min:20,progress:{show:!0},detail:{valueAnimation:!1,formatter:"{value}"},data:[{value:25,name:"Humidity",title:{fontSize:13,offsetCenter:[0,"80%"]}}]}]},v=te(null),o=te(null),{setOptions:t}=he(v),{setOptions:s}=he(o);return ae(()=>a.loading,()=>{a.loading||(t(e),s(r))},{immediate:!0}),ae(()=>a.list,()=>{if(a.loading)return;const{temperature:n,humidity:y}=a.list[a.list.length-1],c=e.series[0].data[0].value,P=r.series[0].data[0].value;n!==c&&(e.series[0].data[0].value=n,t(e,!0)),y!==P&&(r.series[0].data[0].value=y,s(r,!0))},{immediate:!0}),(n,y)=>(we(),Se(xe(W),{loading:i.loading},{default:Ce(()=>[Y("div",Ke,[Y("div",{class:"chart",ref_key:"chartRef",ref:v,style:re({width:i.width,height:i.height})},null,4),Y("div",{class:"chart",ref_key:"chartRef2",ref:o,style:re({width:i.width,height:i.height})},null,4)])]),_:1},8,["loading"]))}});var at=ye(Ye,[["__scopeId","data-v-552d3e58"]]);export{at as default};
