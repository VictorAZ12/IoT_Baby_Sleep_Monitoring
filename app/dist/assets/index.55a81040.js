import{t as _,J as N,ah as ee,R as i,ar as $,a as W,ad as q,f as ae,a4 as te,K as G,U as B,dk as F,X as y,p as g,_ as z,cI as re,Y as x,ap as ne,aq as oe,bD as le,b9 as H}from"./index.aa01a344.js";import{R as U,r as se}from"./responsiveObserve.29177b11.js";import{u as ie,a as ue}from"./useSize.860004de.js";function ce(){var t=_({}),e=null;return N(function(){e=U.subscribe(function(l){t.value=l})}),ee(function(){U.unsubscribe(e)}),t}var L={prefixCls:i.string,shape:i.oneOf($("circle","square")).def("circle"),size:{type:[Number,String,Object],default:function(){return"default"}},src:i.string,srcset:i.string,icon:i.VNodeChild,alt:i.string,gap:i.number,draggable:i.bool,loadError:{type:Function}},ve=W({name:"AAvatar",inheritAttrs:!1,props:L,slots:["icon"],setup:function(e,l){var r=l.slots,a=l.attrs,p=_(!0),S=_(!1),v=_(1),f=_(null),C=_(null),E=q("avatar",e),m=E.prefixCls,T=ie(),c=ce(),o=ae(function(){if(te(e.size)==="object"){var s=se.find(function(u){return c.value[u]}),n=e.size[s];return n}}),d=function(n){return o.value?{width:"".concat(o.value,"px"),height:"".concat(o.value,"px"),lineHeight:"".concat(o.value,"px"),fontSize:"".concat(n?o.value/2:18,"px")}:{}},b=function(){if(!(!f.value||!C.value)){var n=f.value.offsetWidth,u=C.value.offsetWidth;if(n!==0&&u!==0){var j=e.gap,O=j===void 0?4:j;O*2<u&&(v.value=u-O*2<n?(u-O*2)/n:1)}}},k=function(){var n=e.loadError,u=n==null?void 0:n();u!==!1&&(p.value=!1)};return G(function(){return e.src},function(){B(function(){p.value=!0,v.value=1})}),G(function(){return e.gap},function(){B(function(){b()})}),N(function(){B(function(){b(),S.value=!0})}),function(){var s,n,u=e.shape,j=e.size,O=e.src,M=e.alt,V=e.srcset,X=e.draggable,A=F(r,e,"icon"),P=m.value,h=j==="default"?T.value:j,J=(s={},y(s,"".concat(a.class),!!a.class),y(s,P,!0),y(s,"".concat(P,"-lg"),h==="large"),y(s,"".concat(P,"-sm"),h==="small"),y(s,"".concat(P,"-").concat(u),u),y(s,"".concat(P,"-image"),O&&p.value),y(s,"".concat(P,"-icon"),A),s),Y=typeof h=="number"?{width:"".concat(h,"px"),height:"".concat(h,"px"),lineHeight:"".concat(h,"px"),fontSize:A?"".concat(h/2,"px"):"18px"}:{},D=(n=r.default)===null||n===void 0?void 0:n.call(r),R;if(O&&p.value)R=g("img",{draggable:X,src:O,srcset:V,onError:k,alt:M},null);else if(A)R=A;else if(S.value||v.value!==1){var w="scale(".concat(v.value,") translateX(-50%)"),Q={msTransform:w,WebkitTransform:w,transform:w},Z=typeof h=="number"?{lineHeight:"".concat(h,"px")}:{};R=g(re,{onResize:b},{default:function(){return[g("span",{class:"".concat(P,"-string"),ref:f,style:z(z({},Z),Q)},[D])]}})}else R=g("span",{class:"".concat(P,"-string"),ref:f,style:{opacity:0}},[D]);return g("span",x(x({},a),{},{ref:C,class:J,style:z(z(z({},Y),d(!!A)),a.style)}),[R])}}}),I=ve,fe={prefixCls:i.string,maxCount:i.number,maxStyle:{type:Object,default:function(){return{}}},maxPopoverPlacement:i.oneOf($("top","bottom")).def("top"),size:L.size},de=W({name:"AAvatarGroup",inheritAttrs:!1,props:fe,setup:function(e,l){var r=l.slots,a=l.attrs,p=q("avatar-group",e),S=p.prefixCls,v=p.direction;return ue(e),function(){var f,C=e.maxPopoverPlacement,E=C===void 0?"top":C,m=e.maxCount,T=e.maxStyle,c=(f={},y(f,S.value,!0),y(f,"".concat(S.value,"-rtl"),v.value==="rtl"),y(f,"".concat(a.class),!!a.class),f),o=F(r,e),d=ne(o).map(function(n,u){return oe(n,{key:"avatar-key-".concat(u)})}),b=d.length;if(m&&m<b){var k=d.slice(0,m),s=d.slice(m,b);return k.push(g(le,{key:"avatar-popover-key",content:s,trigger:"hover",placement:E,overlayClassName:"".concat(S.value,"-popover")},{default:function(){return[g(I,{style:T},{default:function(){return["+".concat(b-m)]}})]}})),g("div",x(x({},a),{},{class:c,style:a.style}),[k])}return g("div",x(x({},a),{},{class:c,style:a.style}),[d])}}}),K=de;I.Group=K;I.install=function(t){return t.component(I.name,I),t.component(K.name,K),t};var pe=globalThis&&globalThis.__rest||function(t,e){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]]);return l},me={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},ye=W({name:"TransButton",inheritAttrs:!1,props:{noStyle:i.looseBool,onClick:i.func,disabled:i.looseBool,autofocus:i.looseBool},setup:function(e,l){var r=l.slots,a=l.emit,p=l.attrs,S=l.expose,v=_(),f=function(o){var d=o.keyCode;d===H.ENTER&&o.preventDefault()},C=function(o){var d=o.keyCode;d===H.ENTER&&a("click",o)},E=function(o){a("click",o)},m=function(){v.value&&v.value.focus()},T=function(){v.value&&v.value.blur()};return N(function(){e.autofocus&&m()}),S({focus:m,blur:T}),function(){var c,o=e.noStyle,d=e.disabled,b=pe(e,["noStyle","disabled"]),k={};return o||(k=z({},me)),d&&(k.pointerEvents="none"),g("div",x(x(x({role:"button",tabindex:0,ref:v},b),p),{},{onClick:E,onKeydown:f,onKeyup:C,style:z(z({},k),p.style||{})}),[(c=r.default)===null||c===void 0?void 0:c.call(r)])}}}),Se=ye;export{I as A,Se as T,ce as u};
